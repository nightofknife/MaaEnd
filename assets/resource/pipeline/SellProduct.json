{
    "SellProductBegin": {
        "post_delay": 500,
        "doc": "虚节点",
        "next": [
            "SellProductAtHome1",
            "SellProductAtHome2",
            "SellProductAtDevelopment",
            "SellProductAtFriend",
            "SellProductAtFriendExit",
            "[JumpBack]SellProductBack2Home",
            "SellProductBack2HomeFailed"
        ]
    },
    "SellProductMain": {
        "doc": "脚本入口",
        "action": {
            "type": "ClickKey",
            "param": {
                "key": [
                    89
                ]
            }
        },
        "next": [
            "SellProductBegin"
        ]
    },
    "SellProductAtHome1": {
        "doc": "根据标志得知在大世界，进入地区建设",
        "recognition": {
            "type": "TemplateMatch",
            "param": {
                "template": [
                    "SellProduct/SellProductDevelopmentEntry.png"
                ],
                "green_mask": true,
                "roi": [
                    0,
                    0,
                    400,
                    100
                ]
            }
        },
        "action": {
            "type": "ClickKey",
            "param": {
                "key": [
                    89
                ]
            }
        },
        "next": [
            "SellProductAtDevelopment",
            "SellProductAtHome1"
        ]
    },
    "SellProductBack2Home": {
        "max_hit": 5,
        "focus": {
            "Node.Action.Starting": "当前位置不在主界面或据点管理界面，正在尝试返回"
        },
        "doc": "按右键返回主界面",
        "action": {
            "type": "Click",
            "param": {
                "contact": 1
            }
        }
    },
    "SellProductAtDevelopment": {
        "doc": "位于地区建设，进入据点管理",
        "recognition": {
            "type": "OCR",
            "param": {
                "roi": [
                    700,
                    100,
                    550,
                    500
                ],
                "expected": [
                    "据点管理"
                ]
            }
        },
        "action": {
            "type": "Click",
            "param": {}
        },
        "next": [
            "SellProductAtSell",
            "SellProductAtDevelopment"
        ]
    },
    "SellProductDragBar": {
        "doc": "备选方案-滑动滑动条",
        "recognition": {
            "type": "TemplateMatch",
            "param": {
                "template": [
                    "SellProduct/SellProductBar.png"
                ],
                "roi": [
                    1000,
                    500,
                    200,
                    150
                ]
            }
        },
        "action": {
            "type": "Swipe",
            "param": {
                "end_offset": [
                    [
                        0,
                        0,
                        400,
                        0
                    ]
                ],
                "duration": [
                    500
                ]
            }
        },
        "next": [
            "SellProductSell"
        ]
    },
    "SellProductAtSell": {
        "focus": {
            "Node.Recognition.Succeeded": "已进入售卖界面"
        },
        "doc": "位于出售页面",
        "recognition": {
            "type": "OCR",
            "param": {
                "expected": [
                    "交易",
                    "不足",
                    "上限"
                ],
                "roi": [
                    1000,
                    600,
                    250,
                    100
                ]
            }
        },
        "next": [
            "SellProductCanSell"
        ]
    },
    "SellProductForthValley": {
        "doc": "处理完成四号谷地",
        "recognition": {
            "type": "OCR",
            "param": {
                "expected": [
                    "四号",
                    "谷地"
                ],
                "roi": [
                    0,
                    140,
                    400,
                    140
                ]
            }
        },
        "next": [
            "SellProductLocalChange1"
        ]
    },
    "SellProductEnd": {
        "doc": "结束",
        "action": {
            "type": "ClickKey",
            "param": {
                "key": [
                    27
                ]
            }
        }
    },
    "SellProductLocalChange1": {
        "doc": "点击更换",
        "recognition": {
            "type": "OCR",
            "param": {
                "expected": [
                    "更换"
                ],
                "roi": [
                    0,
                    250,
                    250,
                    100
                ]
            }
        },
        "action": {
            "type": "Click",
            "param": {}
        },
        "next": [
            "SellProduct2Wuling"
        ]
    },
    "SellProductLocalChange2": {
        "doc": "点击更换",
        "recognition": {
            "type": "OCR",
            "param": {
                "expected": [
                    "更换"
                ],
                "roi": [
                    0,
                    250,
                    250,
                    100
                ]
            }
        },
        "action": {
            "type": "Click",
            "param": {}
        },
        "next": [
            "SellProduct2FourthValley"
        ]
    },
    "SellProduct2Wuling": {
        "doc": "点武陵小图",
        "recognition": {
            "type": "TemplateMatch",
            "param": {
                "template": [
                    "SellProduct/SellProductWuling.png"
                ],
                "roi": [
                    200,
                    100,
                    800,
                    200
                ]
            }
        },
        "action": {
            "type": "Click",
            "param": {
                "target_offset": [
                    50,
                    30,
                    -100,
                    -50
                ]
            }
        },
        "next": [
            "SellProductLocalChangeConfirm"
        ]
    },
    "SellProduct2FourthValley": {
        "doc": "点四号谷地小图",
        "recognition": {
            "type": "TemplateMatch",
            "param": {
                "template": [
                    "SellProduct/SellProductFourthValley.png"
                ],
                "roi": [
                    200,
                    100,
                    800,
                    200
                ]
            }
        },
        "action": {
            "type": "Click",
            "param": {
                "target_offset": [
                    50,
                    30,
                    -100,
                    -50
                ]
            }
        },
        "next": [
            "SellProductLocalChangeConfirm"
        ]
    },
    "SellProductLocalChangeConfirm": {
        "doc": "点击确认切换地区",
        "recognition": {
            "type": "OCR",
            "param": {
                "expected": [
                    "确认"
                ],
                "roi": [
                    655,
                    400,
                    200,
                    70
                ]
            }
        },
        "action": {
            "type": "Click",
            "param": {}
        },
        "next": [
            "SellProductAtDevelopment"
        ]
    },
    "SellProductLocalChange0": {
        "doc": "等待更换出现",
        "recognition": {
            "type": "OCR",
            "param": {
                "expected": [
                    "更换"
                ],
                "roi": [
                    0,
                    250,
                    250,
                    100
                ]
            }
        },
        "next": [
            "SellProductLocalCounter",
            "SellProductEnd"
        ]
    },
    "SellProductLocalCounter": {
        "max_hit": 1,
        "focus": {
            "Node.Recognition.Succeeded": "当前区域任务已完成，正在前往下一区域"
        },
        "doc": "max_hit为地区数-1",
        "next": [
            "SellProductForthValley",
            "SellProductWuling"
        ]
    },
    "SellProductSell": {
        "doc": "交易",
        "recognition": {
            "type": "OCR",
            "param": {
                "expected": [
                    "交易"
                ],
                "roi": [
                    1000,
                    640,
                    250,
                    100
                ]
            }
        },
        "action": {
            "type": "Click",
            "param": {}
        },
        "next": [
            "SellProductSellCheck",
            "SellProductSellPressed",
            "SellProductSell"
        ]
    },
    "SellProductSellCheck": {
        "focus": {
            "Node.Action.Succeeded": "成功完成一次交易"
        },
        "doc": "交易后确认",
        "recognition": {
            "type": "TemplateMatch",
            "param": {
                "template": [
                    "SellProduct/SellProductCheck.png"
                ],
                "roi": [
                    600,
                    600,
                    100,
                    100
                ]
            }
        },
        "action": {
            "type": "Click",
            "param": {}
        },
        "next": [
            "SellProductNext",
            "SellProductSellCheck"
        ]
    },
    "SellProductCanSell": {
        "doc": "判断当前能不能出售的虚节点",
        "next": [
            "SellProductZeroProduct",
            "SellProductZeroMoney",
            "SellProductClickBarRight",
            "SellProductDragBar"
        ]
    },
    "SellProductZeroProduct": {
        "focus": {
            "Node.Action.Succeeded": "当前选择产品缺货，请制造或更换"
        },
        "doc": "货物数量是0",
        "recognition": {
            "type": "ColorMatch",
            "param": {
                "lower": [
                    [
                        255,
                        110,
                        110
                    ]
                ],
                "upper": [
                    [
                        255,
                        130,
                        130
                    ]
                ],
                "roi": [
                    1118,
                    286,
                    75,
                    86
                ],
                "count": 10
            }
        },
        "next": [
            "SellProductNext"
        ]
    },
    "SellProductZeroMoney": {
        "focus": {
            "Node.Action.Succeeded": "该据点调度券不足，过一会再来吧"
        },
        "doc": "调度券余量为0",
        "recognition": {
            "type": "OCR",
            "param": {
                "expected": [
                    "不足"
                ],
                "roi": [
                    950,
                    630,
                    300,
                    60
                ]
            }
        },
        "next": [
            "SellProductNext"
        ]
    },
    "SellProductNext": {
        "doc": "下一个据点",
        "recognition": {
            "type": "OCR",
            "param": {
                "expected": [
                    "交易",
                    "不足",
                    "上限"
                ],
                "roi": [
                    1000,
                    640,
                    250,
                    100
                ]
            }
        },
        "action": {
            "type": "ClickKey",
            "param": {
                "key": [
                    69
                ]
            }
        },
        "next": [
            "SellProductCheckLocalDone"
        ]
    },
    "SellProductLocalDone": {
        "doc": "选择据点回到第一个，即完成了该地区所有据点",
        "recognition": {
            "type": "ColorMatch",
            "param": {
                "lower": [
                    [
                        250,
                        250,
                        0
                    ]
                ],
                "upper": [
                    [
                        255,
                        255,
                        20
                    ]
                ],
                "roi": [
                    140,
                    60,
                    200,
                    60
                ],
                "count": 50
            }
        },
        "action": {
            "type": "ClickKey",
            "param": {
                "key": [
                    27
                ]
            }
        },
        "next": [
            "SellProductLocalChange0"
        ]
    },
    "SellProductCheckLocalDone": {
        "doc": "判断该地区是否结束",
        "recognition": {
            "type": "OCR",
            "param": {
                "expected": [
                    "交易",
                    "不足",
                    "上限"
                ],
                "roi": [
                    1000,
                    640,
                    250,
                    100
                ]
            }
        },
        "next": [
            "SellProductLocalDone",
            "SellProductCanSell"
        ]
    },
    "SellProductClickBarRight": {
        "doc": "点击进度条最右侧",
        "recognition": {
            "type": "TemplateMatch",
            "param": {
                "template": [
                    "SellProduct/SellProductBarRight.png"
                ],
                "roi": [
                    1125,
                    537,
                    78,
                    73
                ]
            }
        },
        "action": {
            "type": "Click",
            "param": {
                "target_offset": [
                    0,
                    20,
                    -20,
                    -40
                ]
            }
        },
        "next": [
            "SellProductSell"
        ]
    },
    "SellProductAtHome2": {
        "doc": "根据左上tab得知在大世界，进入地区建设",
        "recognition": {
            "type": "OCR",
            "param": {
                "expected": [
                    "工业",
                    "探索"
                ],
                "roi": [
                    0,
                    0,
                    400,
                    100
                ]
            }
        },
        "action": {
            "type": "ClickKey",
            "param": {
                "key": [
                    89
                ]
            }
        },
        "next": [
            "SellProductAtDevelopment",
            "SellProductAtHome2"
        ]
    },
    "SellProductAtFriend": {
        "focus": {
            "Node.Recognition.Succeeded": "检测到在好友家内，正在尝试返回"
        },
        "doc": "在好友家，特殊处理",
        "recognition": {
            "type": "OCR",
            "param": {
                "expected": [
                    "离开"
                ],
                "roi": [
                    0,
                    0,
                    400,
                    100
                ]
            }
        },
        "action": {
            "type": "ClickKey",
            "param": {
                "key": [
                    27
                ]
            }
        },
        "next": [
            "SellProductAtFriendExit",
            "SellProductAtFriend"
        ]
    },
    "SellProductAtFriendExit": {
        "focus": {
            "Node.Recognition.Succeeded": "检测到在好友家内，正在尝试返回"
        },
        "doc": "在好友家返回界面，特殊处理",
        "recognition": {
            "type": "OCR",
            "param": {
                "expected": [
                    "结束",
                    "拜访"
                ],
                "roi": [
                    1029,
                    629,
                    245,
                    87
                ]
            }
        },
        "action": {
            "type": "Click",
            "param": {}
        },
        "next": [
            "SellProductAtFriendExitConfirm",
            "SellProductAtFriendExit"
        ]
    },
    "SellProductAtFriendExitConfirm": {
        "doc": "返回自己家的确认",
        "recognition": {
            "type": "OCR",
            "param": {
                "expected": [
                    "确认"
                ],
                "roi": [
                    621,
                    416,
                    282,
                    105
                ]
            }
        },
        "action": {
            "type": "Click",
            "param": {}
        },
        "next": [
            "SellProductAtFriendBack",
            "SellProductAtFriendExitConfirm"
        ]
    },
    "SellProductAtFriendBack": {
        "doc": "111",
        "recognition": {
            "type": "OCR",
            "param": {
                "expected": [
                    "拜访",
                    "好友"
                ],
                "roi": [
                    800,
                    429,
                    268,
                    109
                ]
            }
        },
        "action": {
            "type": "ClickKey",
            "param": {
                "key": [
                    89
                ]
            }
        },
        "next": [
            "SellProductAtDevelopment",
            "SellProductAtFriendBack"
        ]
    },
    "SellProductSellPressed": {
        "doc": "交易按钮已经成功按下",
        "recognition": {
            "type": "ColorMatch",
            "param": {
                "lower": [
                    [
                        141,
                        141,
                        141
                    ]
                ],
                "upper": [
                    [
                        148,
                        148,
                        148
                    ]
                ],
                "roi": [
                    1059,
                    646,
                    106,
                    31
                ],
                "count": 100
            }
        },
        "next": [
            "SellProductSellCheck"
        ]
    },
    "SellProductBack2HomeFailed": {
        "focus": {
            "Node.Recognition.Succeeded": "抱歉，未能成功回到大世界，请回到大世界后重新启动本任务"
        },
        "doc": "回到大世界，失败了",
        "next": [
            "SellProductEnd"
        ]
    },
    "SellProductWuling": {
        "doc": "处理完成武陵",
        "recognition": {
            "type": "OCR",
            "param": {
                "expected": [
                    "武陵"
                ],
                "roi": [
                    0,
                    140,
                    400,
                    140
                ]
            }
        },
        "next": [
            "SellProductLocalChange2"
        ]
    }
}